<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CLASSIFIED DATA DUMP</title>
  <style>
    body {
      background-color: black;
      color: lime;
      font-family: monospace;
      padding: 20px;
    }
    pre {
      white-space: pre-wrap;
      word-wrap: break-word;
      border: 1px solid lime;
      padding: 15px;
      margin-bottom: 20px;
    }
    input, button {
      background: black;
      color: lime;
      border: 1px solid lime;
      font-family: monospace;
      padding: 5px 10px;
      margin-top: 10px;
    }
    #error, #countdown, #protocol-section, #final-message, #shutdown-message {
      margin-top: 20px;
      display: none;
    }
    #error {
      color: red;
      font-weight: bold;
    }
    #countdown {
      color: lime;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h1>CLASSIFIED DATA DUMP</h1>
  <pre>
[BOOT SEQUENCE INITIATED]  
&gt; SYSTEM CHECK: OK  
&gt; MEMORY INTEGRITY: OK  
&gt; BIO-SCAN: NON-HUMAN ENTITY DETECTED  
&gt; SIGNAL ORIGIN: 37.3522, -115.6848  
&gt; CLASSIFIED MODULE ACCESS: LEVEL 6  
&gt; PAYLOAD DETECTED: ENCRYPTED  
&gt; PAYLOAD SIZE: 16.2MB  
&gt; LINK STATUS: INTERMITTENT  
&gt; PROTOCOL: 5A-3X/DELTA  
&gt; TIMESTAMP: 1969-07-20 02:56:00 UTC  

&gt; DATA DUMP INITIALIZED  
&gt; ...  
&gt; ...  
&gt; ...  

&gt; DECRYPTION MODULE OFFLINE  
&gt; MANUAL INTERFACE REQUIRED  
&gt; EXITING TO SHELL...
  </pre>

  <h2>Enter decoded code to continue</h2>
  <input type="text" id="decodedInput" placeholder="Enter code here" autocomplete="off" />
  <button onclick="checkDecodedCode()">Submit</button>
  <p id="decodedMessage"></p>

  <p id="error">ERROR: SYSTEM MALFUNCTION – ACCESS TEMPORARILY LOCKED</p>
  <p id="countdown">Enter emergency protocol code before shutdown in <span id="timer">10</span> seconds</p>

  <div id="protocol-section">
    <p>Enter emergency protocol code:</p>
    <input type="text" id="protocolInput" placeholder="Enter protocol code" autocomplete="off" />
    <button onclick="checkProtocolCode()">Submit</button>
    <p id="protocol-message"></p>
  </div>

  <div id="final-message">
    <h2>OVERRIDE ACTIVATED</h2>
    <p>Access to classified files granted.</p>
    <p><a href="classified-data.html">→ Proceed to classified data</a></p>
    <audio controls>
      <source src="transmission.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>
  </div>

  <div id="shutdown-message" style="color:red;">
    <h2>SYSTEM SHUTDOWN</h2>
    <p>Access not granted. System shutting down...</p>
    <button onclick="resetPage()">Retry</button>
  </div>

<script>
  let countdownTimer;
  let timeLeft;

  // Initially hide error, countdown, protocol input, final, shutdown
  document.getElementById('error').style.display = 'none';
  document.getElementById('countdown').style.display = 'none';
  document.getElementById('protocol-section').style.display = 'none';
  document.getElementById('final-message').style.display = 'none';
  document.getElementById('shutdown-message').style.display = 'none';

  function checkDecodedCode() {
    const input = document.getElementById('decodedInput').value.trim().toUpperCase();
    const decodedMessage = document.getElementById('decodedMessage');
    const error = document.getElementById('error');
    const countdown = document.getElementById('countdown');
    const protocolSection = document.getElementById('protocol-section');

    // Example correct answer, change this to your puzzle answer
    const validDecodedCode = 'ENCRYPTED'; 

    if (input === validDecodedCode) {
      decodedMessage.textContent = 'Code accepted. Initiating system override...';
      decodedMessage.style.color = 'lime';

      // Show error + countdown + protocol input
      error.style.display = 'block';
      countdown.style.display = 'block';
      protocolSection.style.display = 'block';

      // Hide decoded input and button
      document.getElementById('decodedInput').style.display = 'none';
      document.querySelector('button').style.display = 'none';

      // Start countdown timer
      timeLeft = 10;
      document.getElementById('timer').textContent = timeLeft;
      countdownTimer = setInterval(() => {
        timeLeft--;
        document.getElementById('timer').textContent = timeLeft;

        if (timeLeft <= 0) {
          clearInterval(countdownTimer);
          shutdownSystem();
        }
      }, 1000);
    } else {
      decodedMessage.textContent = 'Incorrect code. Try again.';
      decodedMessage.style.color = 'red';
    }
  }

  function checkProtocolCode() {
    const input = document.getElementById('protocolInput').value.trim().toUpperCase();
    const protocolMessage = document.getElementById('protocol-message');
    const finalMessage = document.getElementById('final-message');

    const correctProtocol = '5A-3X/DELTA';

    protocolMessage.style.color = 'red';
    protocolMessage.textContent = '';

    if (input === correctProtocol) {
      clearInterval(countdownTimer);
      protocolMessage.textContent = '';
      finalMessage.style.display = 'block';

      // Hide protocol input area, error, countdown
      document.getElementById('protocol-section').style.display = 'none';
      document.getElementById('error').style.display = 'none';
      document.getElementById('countdown').style.display = 'none';
    } else {
      protocolMessage.textContent = 'ACCESS DENIED: Incorrect protocol code.';
    }
  }

  function shutdownSystem() {
    document.getElementById('protocol-section').style.display = 'none';
    document.getElementById('error').style.display = 'none';
    document.getElementById('countdown').style.display = 'none';
    document.getElementById('decodedMessage').textContent = '';
    document.getElementById('decodedInput').style.display = 'none';
    document.querySelector('button').style.display = 'none';

    document.getElementById('shutdown-message').style.display = 'block';
  }

  function resetPage() {
    location.reload();
  }
</script>

</body>
</html>
